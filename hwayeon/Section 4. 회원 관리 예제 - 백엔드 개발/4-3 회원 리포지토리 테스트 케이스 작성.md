# 4-3 íšŒì› ë¦¬í¬ì§€í† ë¦¬ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±

- ë¦¬í¬ì§€í† ë¦¬ í´ë˜ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ ê²€ì¦

## ê²€ì¦ ë°©ë²•

- ìë°”ì˜ main ë©”ì„œë“œë¥¼ í†µí•´ ì‹¤í–‰
- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í†µí•´ ì‹¤í–‰
    
    â†’ ì¤€ë¹„ì™€ ì‹¤í–‰ ì‹œê°„ â†‘, ë°˜ë³µ ì‹¤í–‰ê³¼ ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ë¥¼ í•œë²ˆì— ì‹¤í–‰í•˜ê¸° ì–´ë ¤ì›€
    
- JUnitì´ë¼ëŠ” í”„ë ˆì„ì›Œí¬ë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ì—¬ ë¬¸ì œ í•´ê²°

## repository íŒ¨í‚¤ì§€, MemoryMemberRepositoryTest í´ë˜ìŠ¤ ìƒì„±

- test/java/hello.hello_spring/repository/MemoryMemberRepositoryTest

```java
package hello.hello_spring.repository;

import hello.hello_spring.domain.Member;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.Test;

import java.util.List;
import java.util.Optional;

import static org.assertj.core.api.Assertions.*;

public class MemoryMemberRepositoryTest {
    MemoryMemberRepository repository = new MemoryMemberRepository();

    @AfterEach // ë©”ì†Œë“œ ì‹¤í–‰ì´ ëë‚ ë•Œë§ˆë‹¤ ë™ì‘
    public void afterEach() {
        repository.clearStore(); // ì €ì¥ì†Œ ë¹„ìš°ê¸°
    }

    @Test
    public void save() {
		    // given
        Member member = new Member();
        member.setName("spring");
				
				// when
        repository.save(member);

				// then
        Member result = repository.findById(member.getId()).get(); // optionalì—ì„œ ê°’ì„ êº¼ë‚¼ ë•Œ get()
        //Assertions.assertEquals(member, result); // (Expected, Actual)
        assertThat(member).isEqualTo(result); // memberê°€ resultì™€ ê°™ë‹¤
    }

    @Test
    public void findByName() {
		    // given
        Member member1 = new Member();
        member1.setName("spring1");
        repository.save(member1);

        Member member2 = new Member();
        member2.setName("spring2");
        repository.save(member2);

				// when
        Member result = repository.findByName("spring1").get();

				// then
        assertThat(result).isEqualTo(member1);
    }

    @Test
    public void findAll() {
		    // given
        Member member1 = new Member();
        member1.setName("spring1");
        repository.save(member1);

        Member member2 = new Member();
        member2.setName("spring1");
        repository.save(member2);

				// when
        List<Member> result = repository.findAll();

				// then
        assertThat(result.size()).isEqualTo(2);
    }
}
```

### MemoryMemberRepository í´ë˜ìŠ¤ì— ì¶”ê°€

```java
public void clearStore() {
        store.clear(); // ìŠ¤í† ì–´ë¥¼ ë¹„ì›€
    }
```

![image.png](4-3%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%20%E1%84%85%E1%85%B5%E1%84%91%E1%85%A9%E1%84%8C%E1%85%B5%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5%20%E1%84%90%E1%85%A6%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%89%E1%85%A5%E1%86%BC%2018849aa13a6080ad9ed0ef468cf00da9/image.png)

- ê°™ì€ íŒ¨í‚¤ì§€ ì´ë¦„ repositoryë¡œ ìƒì„±
- ì‹¤í–‰ ë©ˆì¶”ê³  ë©”ì†Œë“œ ì™¼ìª½ì˜ ì‹¤í–‰ ë²„íŠ¼ ëˆŒëŸ¬ì„œ í…ŒìŠ¤íŠ¸
- í´ë˜ìŠ¤ ë ˆë²¨ì—ì„œ ë©”ì†Œë“œë“¤ì„ ë™ì‹œì— í…ŒìŠ¤íŠ¸ ê°€ëŠ¥, ë™ì‹œì— ì‹¤í–‰ í–ˆì„ ê²½ìš° ìˆœì„œëŠ” ë³´ì¥ X
    
    â†’ í…ŒìŠ¤íŠ¸ëŠ” ê°ê° ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ì•¼ í•¨. í…ŒìŠ¤íŠ¸ ìˆœì„œì— ì˜ì¡´ ê´€ê³„ê°€ ìˆëŠ” ê²ƒì€ ì¢‹ì€ í…ŒìŠ¤íŠ¸ê°€ ì•„ë‹ˆë‹¤.
    
- @AfterEach: í•œë²ˆì— ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì‹œ ë©”ëª¨ë¦¬ DBì— ì§ì „ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ë‚¨ì•„ ì´ì „ í…ŒìŠ¤íŠ¸ ë•Œë¬¸ì— ë‹¤ìŒ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤. @AfterEachë¥¼ ì‚¬ìš©í•˜ë©´ ê° í…ŒìŠ¤íŠ¸ê°€ ì¢…ë£Œ í•  ë•Œë§ˆë‹¤ ì´ ê¸°ëŠ¥ì„ ì‹¤í–‰, ë©”ëª¨ë¦¬ DBì— ì €ì¥ëœ ë°ì´í„° ì‚­ì œ
- public void afterEach()ê°€ ì—†ë‹¤ë©´ ì˜¤ë¥˜ ë°œìƒ

<aside>
ğŸ’¡

ê´€ë ¨ëœ ê²ƒ ë°”ê¾¸ê¸°(Rename) ë‹¨ì¶•í‚¤ - Shift + F6

</aside>

<aside>
ğŸ’¡

í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ(TDD) : ë¨¼ì € í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•œ í›„ ê°œë°œ

</aside>